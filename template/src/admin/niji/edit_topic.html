<div ms-controller="editTopic" class="col-md-9">
    <form id="edit-topic-form">
        <nav>
            <ul class="pager">
                <li class="previous" ms-click="showTopicListPage()"><a href="javascript:void(0)"><span
                        aria-hidden="true">&larr;</span> 返回</a></li>
            </ul>
        </nav>
        <div class="row">
            <H3>帖子</H3>
        </div>
        <div class="panel panel-default sample-panel">
        <div class="panel-body row">
        <div class="row form-group col-md-12">
            <div class="form-group col-md-3">
                <label>管理</label><br>
                <label><input type="checkbox" name="hidden">
                    <small> 隐藏&nbsp&nbsp&nbsp&nbsp</small>
                </label>
                <label><input type="checkbox" name="closed">
                    <small> 关闭</small>
                </label>
                <br><label>标题</label>
                <input type="text" name="title" autofocus class="form-control" ms-duplex="title"
                       data-error="请填写题目名称(名称不能超过30个字)" maxlength="30" required>
                <div class="help-block with-errors"></div>
                <label>用户</label>
                <input type="text" name="user_username" class="form-control" ms-duplex="user_username"
                       data-error="用户名不能为空" maxlength="30" required>
                <div class="help-block with-errors"></div>
            </div>
            <div class="form-group col-md-9">
                <label>内容</label>
                <textarea class="form-control" rows="8" name="content_raw" data-error="请填写输入描述"
                        ms-duplex="content_raw" maxlength="10000" required></textarea>
                <div class="help-block with-errors"></div>
            </div>
        </div>
        </div>
        </div>
        
        <div ms-visible="hasPost">
        <div class="row">
            <H3>回复</H3>
        </div>
        <div class="panel panel-default sample-panel">
        <div class="panel-body row">
            <div class="row col-md-12">
                <div class="row right col-md-5">
                    <div class="right">
                            <input type="submit" value="搜索" class="btn btn-primary" ms-click="search()">
                    </div>
                    <div class="right col-md-9">
                        <input name="keyword" class="form-control" placeholder="请输入关键词" ms-duplex="keyword">
                    </div>
                </div>
                <br>
                <br>
                <table class="table table-striped">
                    <tr>
                        <th>用户</th>
                        <th>内容</th>
                        <th>设置</th>
                    </tr>
                    <tr ms-repeat="posts">
                        <td>{{ el.user_username }}</td>
                        <td>{{ el.content_raw}}</td>
                        <td>
                            <button class="btn btn-info" ms-click="editPost(el)">编辑</button>
                            <button class="btn btn-danger" ms-click="delPost(el)">删除</button>
                        </td>
                    </tr>
                </table>
                <div class="text-right">
                    <ms:pager $id="userPager" config="pager"></ms:pager>
                </div>
                <div ms-visible="ispostEditing">
                    <form id="edit-post-form">
                        <div class="form-group col-md-3">
                            <label>回复处理</label><br>
                            <label><input type="checkbox" name="posts_hidden" ms-duplex-checked="posts_hidden">
                                <small> 隐藏&nbsp&nbsp&nbsp&nbsp</small>
                            </label>
                            <br><br><label>用户</label>
                            <input type="text" name="posts_user_username"  class="form-control" ms-duplex="posts_user_username"
                                   data-error="请填写题目名称(名称不能超过30个字)" maxlength="30" required>
                            <div class="help-block with-errors"></div>
                        </div>
                        <div class="form-group col-md-9">
                            <label>内容</label><br>
                            <textarea class="form-control" rows="6" name="posts_content_raw"
                                    ms-duplex="posts_content_raw" data-error="请填写输入描述"
                                    maxlength="10000" required></textarea>
                            <div class="help-block with-errors"></div>
                        </div>
                        <div class="form-group">
                            <button type="submit" class="btn btn-success">保存</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
        </div>
        </div>

        <div ms-visible="hasAppendix">
        <div class="row">
            <H3>帖子追加内容</H3>
        </div>
        <div class="panel panel-default sample-panel">
        <div class="panel-body row">
            <div class="row col-md-12">
                <table class="table table-striped">
                    <tr>
                        <th>内容</th>
                        <th>设置</th>
                    </tr>
                    <tr ms-repeat="appendixs">
                        <td>{{ el.content_raw}}</td>
                        <td>
                            <button class="btn btn-info" ms-click="editAppendix(el)">编辑</button>
                            <button class="btn btn-danger" ms-click="delAppendix(el)">删除</button>
                        </td>
                    </tr>
                </table>
                <div ms-visible="isappendixEditing">
                    <form id="edit-appendix-form">
                        <div class="form-group col-md-12">
                            <textarea class="form-control" rows="4" name="appendixs_content_raw"
                                      ms-duplex="appendixs_content_raw" data-error="请填写输入描述"
                                      maxlength="10000" required></textarea>
                            <div class="help-block with-errors"></div>
                        </div>
                        <div class="form-group">
                            <button type="submit" class="btn btn-success">保存</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
        </div>
        </div>

        <div class="col-md-12">
            <input type="submit" class="btn btn-success btn-lg" value="保存" id="submitBtn">
            <button herf="#" class="btn btn-danger btn-lg"  id="submitBtn">删除</button>
        </div>
    </form>



</div>

<script src="/static/js/app/admin/niji/edittopic.js"></script>
