<div ms-controller="nodeList" class="col-md-9">
    <h1>话题编辑</h1>

    <div class="right">
        <form class="form-inline" onsubmit="return false;">
            <div class="form-group-sm">
                <label>搜索</label>
                <input name="keyword" class="form-control" placeholder="请输入关键词" ms-duplex="keyword">
                <input type="submit" value="搜索" class="btn btn-primary" ms-click="search()">
            </div>
        </form>
        <br>
    </div>
    <table class="table table-striped">
        <tr>
            <th>id</th>
            <th>话题</th>
            <th>描述</th>
            <th>帖子数目(全部/可见)</th>
            <th>设置</th>
        </tr>
        <tr ms-repeat="nodeList">
            <td>{{ el.id }}</td>
            <td>{{ el.title }}</td>
            <td>{{ el.description}}</td>
            <td>{{ el.num_of_topics }}</td>
            <td>
                <button class="btn-sm btn-info" ms-click="editNode(el)">编辑</button>
                <a class="btn btn-primary" ms-attr-href="'/submissions/?user_id='+el.id" target="_blank">删除</a>
            </td>
        </tr>
        <tr>
            <td><button class="btn btn-success" ms-click="addNode()">添加话题</button></td>
        </tr>
    </table>
    <div class="text-right">
        <ms:pager $id="userPager" config="pager"></ms:pager>
    </div>
    <div ms-visible="isEditing">
        <form id="edit-node-form">
            <div class="row">

            <div class="form-group col-md-4"><label>话题名</label>
                <input name="title" type="text" class="form-control" ms-duplex="title"
                       data-minlength="1" data-minlength-error="不得少于1位" required>
                <div class="help-block with-errors"></div>
            </div>

            </div>
            <div class="row"><label>描述</label>
                    <input name="description" type="text" class="form-control" ms-duplex="description"
                           data-minlength="1" data-minlength-error="不得少于1位" required>
                    <div class="help-block with-errors"></div>
            </div>
            <div class="form-group">
                <button type="submit" class="btn btn-success">保存</button>
            </div>
        </form>
    </div>
</div>
<script src="/static/js/app/admin/niji/nodes.js"></script>
